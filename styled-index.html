<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Tennis Ranking</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f9f9f9; }
    h1, h2, h3 { color: #333; }
    form { margin-bottom: 30px; }
    input, select { margin: 5px; padding: 5px; }
    button { padding: 5px 10px; margin: 5px 0; }
    table { border-collapse: collapse; width: 400px; margin-top: 20px; background: #fff; }
    th, td { border: 1px solid #aaa; padding: 8px; text-align: left; }
    th { background-color: #eee; }
    ul { padding-left: 20px; }
    li { margin: 5px 0; }
  </style>
</head>
<body>
  <h1>Tennis Ranking</h1>

  <form id="matchForm">
    <label>Spieler A:
      <select name="playerA" required><option value="Luca">Luca</option>
<option value="Marco">Marco</option>
<option value="Vale">Vale</option>
<option value="Gab">Gab</option>
<option value="Julian">Julian</option>
<option value="Vincent">Vincent</option>
<option value="Alen">Alen</option>
<option value="Dino">Dino</option>
<option value="Cagdas">Cagdas</option>
<option value="Edo">Edo</option>
<option value="Thomas">Thomas</option>
<option value="Eren">Eren</option>
<option value="Philip">Philip</option>
<option value="Chris">Chris</option>
<option value="Semmi">Semmi</option>
<option value="Tomi">Tomi</option>
<option value="Okan">Okan</option>
<option value="Yusuf">Yusuf</option>
<option value="Kico">Kico</option>
<option value="Bjarne">Bjarne</option>
<option value="Qerim">Qerim</option>
<option value="Yigit Meral">Yigit Meral</option></select>
    </label><br>
    <label>Spieler B:
      <select name="playerB" required><option value="Luca">Luca</option>
<option value="Marco">Marco</option>
<option value="Vale">Vale</option>
<option value="Gab">Gab</option>
<option value="Julian">Julian</option>
<option value="Vincent">Vincent</option>
<option value="Alen">Alen</option>
<option value="Dino">Dino</option>
<option value="Cagdas">Cagdas</option>
<option value="Edo">Edo</option>
<option value="Thomas">Thomas</option>
<option value="Eren">Eren</option>
<option value="Philip">Philip</option>
<option value="Chris">Chris</option>
<option value="Semmi">Semmi</option>
<option value="Tomi">Tomi</option>
<option value="Okan">Okan</option>
<option value="Yusuf">Yusuf</option>
<option value="Kico">Kico</option>
<option value="Bjarne">Bjarne</option>
<option value="Qerim">Qerim</option>
<option value="Yigit Meral">Yigit Meral</option></select>
    </label><br>
    <label>Gewinner:
      <select name="winner" required><option value="Luca">Luca</option>
<option value="Marco">Marco</option>
<option value="Vale">Vale</option>
<option value="Gab">Gab</option>
<option value="Julian">Julian</option>
<option value="Vincent">Vincent</option>
<option value="Alen">Alen</option>
<option value="Dino">Dino</option>
<option value="Cagdas">Cagdas</option>
<option value="Edo">Edo</option>
<option value="Thomas">Thomas</option>
<option value="Eren">Eren</option>
<option value="Philip">Philip</option>
<option value="Chris">Chris</option>
<option value="Semmi">Semmi</option>
<option value="Tomi">Tomi</option>
<option value="Okan">Okan</option>
<option value="Yusuf">Yusuf</option>
<option value="Kico">Kico</option>
<option value="Bjarne">Bjarne</option>
<option value="Qerim">Qerim</option>
<option value="Yigit Meral">Yigit Meral</option></select>
    </label><br>
    <button type="submit">Match eintragen</button>
  </form>

  <h2>Aktuelles Ranking</h2>
  <table id="rankingTable">
    <thead><tr><th>Spieler</th><th>Punkte</th><th>Rang</th></tr></thead>
    <tbody></tbody>
  </table>

  <h3>Manueller Punkteanpassung</h3>
<style>
  .btn-group { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 10px; }
  .btn { padding: 6px 12px; border: none; border-radius: 5px; cursor: pointer; color: white; }
  .plus { background-color: #28a745; }
  .minus { background-color: #dc3545; }
</style>
<select id="bonusPlayer"><option value="Luca">Luca</option>
<option value="Marco">Marco</option>
<option value="Vale">Vale</option>
<option value="Gab">Gab</option>
<option value="Julian">Julian</option>
<option value="Vincent">Vincent</option>
<option value="Alen">Alen</option>
<option value="Dino">Dino</option>
<option value="Cagdas">Cagdas</option>
<option value="Edo">Edo</option>
<option value="Thomas">Thomas</option>
<option value="Eren">Eren</option>
<option value="Philip">Philip</option>
<option value="Chris">Chris</option>
<option value="Semmi">Semmi</option>
<option value="Tomi">Tomi</option>
<option value="Okan">Okan</option>
<option value="Yusuf">Yusuf</option>
<option value="Kico">Kico</option>
<option value="Bjarne">Bjarne</option>
<option value="Qerim">Qerim</option>
<option value="Yigit Meral">Yigit Meral</option></select>
<div class="btn-group">
  <button class="btn plus" onclick="giveBonus(10)">+10</button>
  <button class="btn plus" onclick="giveBonus(20)">+20</button>
  <button class="btn plus" onclick="giveBonus(30)">+30</button>
  <button class="btn minus" onclick="giveBonus(-10)">-10</button>
  <button class="btn minus" onclick="giveBonus(-20)">-20</button>
  <button class="btn minus" onclick="giveBonus(-30)">-30</button>
</div>

  <select id="bonusPlayer"><option value="Luca">Luca</option>
<option value="Marco">Marco</option>
<option value="Vale">Vale</option>
<option value="Gab">Gab</option>
<option value="Julian">Julian</option>
<option value="Vincent">Vincent</option>
<option value="Alen">Alen</option>
<option value="Dino">Dino</option>
<option value="Cagdas">Cagdas</option>
<option value="Edo">Edo</option>
<option value="Thomas">Thomas</option>
<option value="Eren">Eren</option>
<option value="Philip">Philip</option>
<option value="Chris">Chris</option>
<option value="Semmi">Semmi</option>
<option value="Tomi">Tomi</option>
<option value="Okan">Okan</option>
<option value="Yusuf">Yusuf</option>
<option value="Kico">Kico</option>
<option value="Bjarne">Bjarne</option>
<option value="Qerim">Qerim</option>
<option value="Yigit Meral">Yigit Meral</option></select>
  <button onclick="giveBonus(10)">+10</button>
  <button onclick="giveBonus(20)">+20</button>
  <button onclick="giveBonus(30)">+30</button>

  <h2>Match-Historie</h2>
  <ul id="matchHistoryList"></ul>

  <script>
    const defaultPlayers = {
      "Luca": 1000, "Marco": 1000, "Vale": 1000, "Gab": 1000, "Julian": 1000, "Vincent": 1000, "Alen": 1000, "Dino": 1000, "Cagdas": 1000, "Edo": 1000, "Thomas": 1000, "Eren": 1000, "Philip": 1000, "Chris": 1000, "Semmi": 1000, "Tomi": 1000, "Okan": 1000, "Yusuf": 1000, "Kico": 1000, "Bjarne": 1000, "Qerim": 1000, "Yigit Meral": 1000
    };

    function getRank(points) {
      if (points >= 1500) return "üíé Diamant";
      if (points >= 1300) return "ü•á Gold";
      if (points >= 1100) return "ü•à Silber";
      if (points >= 900)  return "ü•â Bronze";
      if (points >= 700)  return "üü§ Kreisliga B";
      return "ü™µ Holz";
    }

    function loadPlayers() {
      return JSON.parse(localStorage.getItem("players")) || { ...defaultPlayers };
    }

    function savePlayers(players) {
      localStorage.setItem("players", JSON.stringify(players));
    }

    function updateRankingTable(players) {
      const table = document.getElementById("rankingTable").querySelector("tbody");
      table.innerHTML = "";
      const sorted = Object.entries(players).sort((a, b) => b[1] - a[1]);
      for (const [name, score] of sorted) {
        const row = document.createElement("tr");
        const rank = getRank(score);
        row.innerHTML = `<td>${name}</td><td>${score}</td><td>${rank}</td>`;
        table.appendChild(row);
      }
    }

    
function giveBonus(amount) {
  const player = document.getElementById("bonusPlayer").value;
  let players = loadPlayers();
  players[player] += amount;
  if (players[player] < 0) players[player] = 0;
  savePlayers(players);
  updateRankingTable(players);
  const sign = amount > 0 ? "+" : "";
  alert(`${player} erh√§lt ${sign}${amount} Punkte`);
}
      const player = document.getElementById("bonusPlayer").value;
      let players = loadPlayers();
      players[player] += amount;
      savePlayers(players);
      updateRankingTable(players);
      alert(`${player} erh√§lt +${amount} Punkte`);
    }

    function saveMatchHistory(entry) {
      const history = JSON.parse(localStorage.getItem("matchHistory")) || [];
      history.unshift(entry);
      localStorage.setItem("matchHistory", JSON.stringify(history));
      updateMatchHistory();
    }

    function updateMatchHistory() {
      const list = document.getElementById("matchHistoryList");
      const history = JSON.parse(localStorage.getItem("matchHistory")) || [];
      list.innerHTML = "";
      for (const match of history) {
        const li = document.createElement("li");
        li.textContent = `${match.winner} gewinnt gegen ${match.loser} ( ${match.date} )`;
        list.appendChild(li);
      }
    }

    document.getElementById("matchForm").addEventListener("submit", (e) => {
      e.preventDefault();
      const form = e.target;
      const playerA = form.playerA.value;
      const playerB = form.playerB.value;
      const winner = form.winner.value;

      if (playerA === playerB) {
        alert("Spieler d√ºrfen nicht gleich sein!");
        return;
      }

      let players = loadPlayers();
      const aPoints = players[playerA];
      const bPoints = players[playerB];
      const diff = Math.abs(aPoints - bPoints);
      let pointsA = 0, pointsB = 0;

      if (diff >= 200) {
        alert("Match z√§hlt nicht (zu gro√üer Klassenunterschied)");
        return;
      }

      if (diff < 100) {
        pointsA = winner === playerA ? 20 : -20;
        pointsB = winner === playerB ? 20 : -20;
      } else if (aPoints > bPoints) {
        pointsA = winner === playerA ? 10 : -10;
        pointsB = winner === playerB ? 30 : -30;
      } else {
        pointsA = winner === playerA ? 30 : -30;
        pointsB = winner === playerB ? 10 : -10;
      }

      players[playerA] += pointsA;
      players[playerB] += pointsB;
      savePlayers(players);
      updateRankingTable(players);

      const loser = winner === playerA ? playerB : playerA;
      saveMatchHistory({ winner, loser, date: new Date().toLocaleString() });

      alert("Match eingetragen!");
    });

    updateRankingTable(loadPlayers());
    updateMatchHistory();
  </script>
</body>
</html>
